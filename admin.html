<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Admin - Familia Cernadas</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
<header>
  <h1>Administración - Familia Cernadas</h1>
  <div style="display:flex;gap:10px;align-items:center;">
    <a href="index.html" class="admin-link">← Volver a pública</a>
    <button id="logoutBtn" style="display:none">Cerrar sesión</button>
  </div>
</header>

<main>

  <!-- LOGIN -->
  <section id="authSection">
    <h2>Acceder</h2>
    <input id="email" placeholder="Email admin" />
    <input id="password" placeholder="Contraseña" type="password" />
    <button id="loginBtn">Entrar</button>
  </section>


  <!-- PANEL ADMIN -->
  <section id="adminPanel" style="display:none">
    <h2>Crear / Editar miembro</h2>

    <form id="memberForm">
      <input id="memberId" type="hidden" />

      <label>Nombre (completo)</label>
      <input id="name" required />

      <label>Fecha nacimiento (YYYY-MM-DD)</label>
      <input id="birthDate" />

      <!-- SELECT CERRADO DE PAÍSES -->
      <label>País de nacimiento</label>
      <select id="birthCountry" required>
        <option value="">(elige país)</option>
      </select>

      <!-- SELECT DINÁMICO SEGÚN PAÍS -->
      <label>Lugar de nacimiento</label>
      <select id="birthPlace" required>
        <option value="">(selecciona país primero)</option>
      </select>

      <!-- NUEVO — CAMPO MANUAL SI EL PAÍS NO TIENE LISTA -->
      <input id="birthPlaceManual"
             placeholder="Escribe el lugar manualmente"
             style="display:none" />

      <label>Fecha fallecimiento</label>
      <input id="deathDate" />

      <label>Lugar fallecimiento</label>
      <input id="deathPlace" />

      <label>Tiene foto (subir a /img/ en repo)</label>
      <input id="hasPhoto" type="checkbox" />

      <label>Nombre archivo (ej: david_cernadas.jpg)</label>
      <input id="photoFile" placeholder="david_cernadas.jpg" />

      <label>Parents (Ctrl+click para seleccionar varios)</label>
      <select id="parents" multiple size="4"></select>

      <label>Partners (Ctrl+click)</label>
      <select id="partners" multiple size="4"></select>

      <label>Children (Ctrl+click)</label>
      <select id="children" multiple size="6"></select>

      <div style="margin-top:12px">
        <button type="submit">Guardar</button>
        <button type="button" id="cancelBtn">Cancelar</button>
      </div>
    </form>

    <h3>Miembros</h3>
	 <input id="memberSearch" placeholder="Buscar miembro..." style="margin-bottom:10px;width:100%;padding:6px;">
	 <div id="memberList">Cargando...</div>

	<h3>Miembros</h3>
    <div id="memberList">Cargando...</div>

    <hr>
    <h3>Comprobar fotos pendientes</h3>
    <button id="checkPhotosBtn">Ver fotos faltantes</button>
    <pre id="photoLog"></pre>

  </section>
</main>

<script type="module" src="js/admin.js"></script>
</body>
</html>
