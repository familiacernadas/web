<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Admin - Familia Cernadas</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<header class="admin-header">
  <h1>Administración - Familia Cernadas</h1>
  <div class="admin-header-links">
    <a href="index.html" class="admin-link">← Volver a pública</a>
    <button id="logoutBtn" class="btn-shadow" style="display:none">Cerrar sesión</button>
  </div>
</header>

<main>

  <!-- LOGIN -->
  <section id="authSection" class="admin-card glass-panel center-card">
    <h2>Acceder</h2>
    <input id="email" placeholder="Email admin" class="input-box"/>
    <input id="password" placeholder="Contraseña" type="password" class="input-box"/>
    <button id="loginBtn" class="btn-primary btn-shadow">Entrar</button>
  </section>


  <!-- PANEL ADMIN -->
  <section id="adminPanel" class="admin-card glass-panel" style="display:none">

    <h2>Crear / Editar miembro</h2>

    <form id="memberForm" class="form-grid-2col">

      <input id="memberId" type="hidden"/>

      <!-- CAMPOS PRINCIPALES -->
      <div class="panel-drawer">
        <h3>Datos personales</h3>

        <div class="form-grid-2col inner-grid">

          <div>
            <label>Nombre completo</label>
            <input id="name" class="input-box" required/>
          </div>

          <div>
            <label>Fecha de nacimiento</label>
            <input id="birthDate" class="input-box"/>
          </div>

          <div>
            <label>País de nacimiento</label>
            <select id="birthCountry" class="input-box" required>
              <option value="">(elige país)</option>
            </select>
          </div>

          <div>
            <label>Lugar de nacimiento</label>
            <select id="birthPlace" class="input-box" required>
              <option value="">(selecciona país primero)</option>
            </select>

            <input id="birthPlaceManual"
                   placeholder="Escribe lugar manualmente"
                   class="input-box"
                   style="display:none;margin-top:6px"/>
          </div>

          <div>
            <label>Fecha fallecimiento</label>
            <input id="deathDate" class="input-box"/>
          </div>

          <div>
            <label>Lugar fallecimiento</label>
            <input id="deathPlace" class="input-box"/>
          </div>

        </div>
      </div>

      <!-- FOTOS -->
      <div class="panel-drawer">
        <h3>Fotografía</h3>
        <div class="inner-grid">
          <div>
            <label>¿Tiene foto?</label>
            <input id="hasPhoto" type="checkbox"/>
          </div>

          <div class="form-full-width">
            <label>Archivo foto</label>
            <input id="photoFile" class="input-box" placeholder="david_cernadas.jpg"/>
          </div>
        </div>
      </div>

      <!-- RELACIONES -->
      <div class="panel-drawer">
        <h3>Relaciones</h3>

        <label>Parents</label>
        <select id="parents" multiple size="4" class="input-box"></select>

        <label>Partners</label>
        <select id="partners" multiple size="4" class="input-box"></select>

        <label>Children</label>
        <select id="children" multiple size="6" class="input-box"></select>

      </div>

      <div class="form-actions">
        <button type="submit" class="btn-primary btn-shadow">Guardar</button>
        <button type="button" id="cancelBtn" class="btn-secondary btn-shadow">Cancelar</button>
      </div>

    </form>

    <!-- LISTA DE MIEMBROS -->
    <div class="panel-drawer">
      <h3>Miembros</h3>

      <input id="memberSearch"
             class="input-box"
             placeholder="Buscar miembro..."

             style="margin-bottom:14px">

      <div id="memberList">Cargando...</div>
    </div>

    <hr>

    <div class="panel-drawer">
      <h3>Comprobar fotos pendientes</h3>
      <button id="checkPhotosBtn" class="btn-secondary btn-shadow">Ver fotos faltantes</button>
      <pre id="photoLog" class="photo-log"></pre>
    </div>

  </section>
</main>

<script type="module" src="js/admin.js"></script>
</body>
</html>
